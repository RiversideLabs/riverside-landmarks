<ion-view hide-nav-bar='true' hide-back-button='true'>
  <ng-include src="'templates/locations-header.html'"></ng-include>
  <ion-content class="has-header" delegate-handle="locations-list" on-scroll="checkScrollTop()" overflow-scroll="{{scroll}}">
    <div id="search-box" class="bar bar-header bar-dark item-input-inset" ng-show="search.showSearch">
      <div class="item-input-wrapper">
        <i class="icon ion-ios7-search placeholder-icon"></i>
        <input type="search" placeholder="Search" ng-model="searchQuery.commonName" autocorrect="off">
        <!-- <i ng-if="searchQuery.length" class="clear-search icon ion-ios7-close-empty" ng-click="clearSearch()"></i> -->
      </div>
    </div>
    <ion-list class="locations-list">
      <ion-item class="location-item" bindonce="loc" ng-repeat="loc in locations | filter: searchQuery | orderBy:sortOpt:reverse" type="item-text-wrap" href="#/loc/{{loc._id}}/detail" back-img="{{loc.heroThumb}}">
        <div class="location-title">
          <p bo-text="loc.commonName"></p>
          <span class="distance-indicator" ng-show="$storage.showDistance"><span class="digit" bo-text="distanceFromHere(loc)"></span><span class="unit">mi</span></span>
        </div>
      </ion-item>
    </ion-list>
  </ion-content>
  <div class="scrollToTop" ng-class="{showscrollbtn:showscrollbtn}" ng-click="scrollTop()"><i class="icon ion-ios7-arrow-up"></i></div>
</ion-view>
